{"version":3,"file":"createJettonTransferMessage.cjs","sources":["../../src/utils/createJettonTransferMessage.ts"],"sourcesContent":["import { beginCell, type Cell } from \"@ton/ton\";\n\nimport type { AddressType, QueryIdType, AmountType } from \"@/types\";\nimport { toAddress } from \"@/utils/toAddress\";\n\n/**\n * Implements `transfer` function from Jettons Standard.\n * [Docs](https://github.com/ton-blockchain/TEPs/blob/master/text/0074-jettons-standard.md#1-transfer)\n *\n * ```TL-B\n * transfer#0f8a7ea5 query_id:uint64 amount:(VarUInteger 16) destination:MsgAddress response_destination:MsgAddress custom_payload:(Maybe ^Cell) forward_ton_amount:(VarUInteger 16) forward_payload:(Either Cell ^Cell) = InternalMsgBody;\n * ```\n */\nexport function createJettonTransferMessage(params: {\n  queryId: QueryIdType;\n  amount: AmountType;\n  destination: AddressType;\n  responseDestination?: AddressType;\n  customPayload?: Cell;\n  forwardTonAmount: AmountType;\n  forwardPayload?: Cell;\n}) {\n  const builder = beginCell();\n\n  builder.storeUint(0xf8a7ea5, 32);\n  builder.storeUint(params.queryId, 64);\n  builder.storeCoins(BigInt(params.amount));\n  builder.storeAddress(toAddress(params.destination));\n  builder.storeAddress(\n    params.responseDestination\n      ? toAddress(params.responseDestination)\n      : undefined,\n  );\n\n  if (params.customPayload) {\n    builder.storeBit(true);\n    builder.storeRef(params.customPayload);\n  } else {\n    builder.storeBit(false);\n  }\n\n  builder.storeCoins(BigInt(params.forwardTonAmount));\n\n  if (params.forwardPayload) {\n    builder.storeBit(true);\n    builder.storeRef(params.forwardPayload);\n  } else {\n    builder.storeBit(false);\n  }\n\n  return builder.endCell();\n}\n"],"names":["beginCell","toAddress"],"mappings":";;;;AAaO,SAAS,4BAA4B,QAQzC;AACD,QAAM,UAAUA,IAAAA;AAER,UAAA,UAAU,WAAW,EAAE;AACvB,UAAA,UAAU,OAAO,SAAS,EAAE;AACpC,UAAQ,WAAW,OAAO,OAAO,MAAM,CAAC;AACxC,UAAQ,aAAaC,UAAAA,UAAU,OAAO,WAAW,CAAC;AAC1C,UAAA;AAAA,IACN,OAAO,sBACHA,UAAU,UAAA,OAAO,mBAAmB,IACpC;AAAA,EAAA;AAGN,MAAI,OAAO,eAAe;AACxB,YAAQ,SAAS,IAAI;AACb,YAAA,SAAS,OAAO,aAAa;AAAA,EAAA,OAChC;AACL,YAAQ,SAAS,KAAK;AAAA,EACxB;AAEA,UAAQ,WAAW,OAAO,OAAO,gBAAgB,CAAC;AAElD,MAAI,OAAO,gBAAgB;AACzB,YAAQ,SAAS,IAAI;AACb,YAAA,SAAS,OAAO,cAAc;AAAA,EAAA,OACjC;AACL,YAAQ,SAAS,KAAK;AAAA,EACxB;AAEA,SAAO,QAAQ;AACjB;;"}